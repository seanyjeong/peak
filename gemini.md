# CLAUDE.md - P-EAK (피크)

## 프로젝트 개요

**P-EAK** = **P**hysical **E**xcellence **A**chievement **K**eeper
체육 성과 기록 관리 시스템

### 이름 의미
- **Physical** = 체육, 신체
- **Excellence** = 탁월함, 우수함
- **Achievement** = 성과, 기록
- **Keeper** = 관리자, 기록 보관자

### Peak (피크) 의미
- **정점, 최고점** - 기록의 정점을 향해
- **산봉우리** - 목표를 향한 도전1
- "피크 컨디션" - 최상의 상태
- "피크를 찍다" - 최고 기록 달성

### P-ACA 자매 시스템
| 시스템 | 발음 | 역할 |
|--------|------|------|
| P-ACA | 파카 | 학원 종합관리 |
| P-EAK | 피크 | 실기 훈련관리 |

> "**파카**로 학원 관리, **피크**로 기록 정점!"

---

체대입시 전문 트레이닝 관리 시스템
- FM2025처럼 데이터 기반 훈련 최적화
- P-ACA 연동

## 문서

| 문서 | 설명 |
|------|------|
| SPEC.md | 상세 기획서 (전체 명세) |
| PLAN.md | 개발 로드맵 |

## 기술 스택

- **프론트**: Next.js 15 + TailwindCSS + dnd-kit
- **백엔드**: Express.js + MySQL
- **배포**: Vercel + 로컬서버 (P-ACA와 동일)

## 핵심 기능

1. **트레이너 출근 체크**
2. **훈련 계획 작성** (태그 + 자유 텍스트)
3. **반 배치** (드래그앤드롭)
4. **기록 측정** (4대 종목)
5. **훈련 기록 저장** (컨디션, 메모)
6. **학생 프로필** (기록 변화 그래프)
7. **P-ACA 연동** (로그인, 학생정보, 출결)

## 4대 종목

| 종목 | 남 시작 | 남 만점 | 여 시작 | 여 만점 |
|------|--------|--------|--------|--------|
| 제멀 | 250cm | 300cm | 180cm | 250cm |
| 메디신 | 8.5m | 12m | 6m | 9m |
| 20m왕복 | 16.5초 | 14.5초 | 19초 | 16.5초 |
| 좌전굴 | 개인차 | - | 개인차 | - |

## 훈련 태그

- 하체 파워 (제멀)
- 상체 파워 (메디신)
- 민첩성 (20m왕복)
- 유연성 (좌전굴)
- 기술/자세
- 컨디셔닝

## P-ACA 연동

- 로그인: P-ACA 계정 사용
- 학생: P-ACA에서 가져오기 (일산맥스)
- 출결: 양방향 동기화

## 개발 순서

1. 프로젝트 셋업 & DB
2. P-ACA 인증 연동
3. 학생/트레이너 기본
4. **반 배치 (드래그앤드롭)** ← 핵심
5. 훈련 계획 & 기록
6. 기록 측정 & 그래프
7. 부상 관리, 알림
8. 통계/분석

## 현재 버전: v0.2.1

## 완료된 기능 (2025-12-20)

### Phase 1 완료
- [x] /dashboard - 대시보드
- [x] /attendance - 트레이너 출근 체크
- [x] /assignments - 반 배치 (드래그앤드롭)
- [x] /plans - 훈련 계획 작성
- [x] /training - 훈련 기록 입력 (컨디션/메모)
- [x] /students - 학생 관리 (목록, 기록 조회)
- [x] /settings - 설정 페이지 (종목/배점표 관리)

### 핵심 시스템
- [x] P-ACA 인증 연동 (JWT)
- [x] 동적 종목 시스템 (학원별 커스텀 종목)
- [x] 자동 배점표 생성 (만점/최소/급간/감점단위)
- [x] 남/여 별도 배점 지원
- [x] higher/lower 방향 지원

### DB 테이블
- record_types: 종목 정의 (name, unit, direction)
- score_tables: 배점표 설정
- score_ranges: 생성된 배점 구간
- student_records: 학생 기록 (record_type_id, value)
- training_logs: 훈련 기록 (condition_score, notes)

## TODO

### 다음 작업
- [ ] /records 페이지 (기록 측정 입력 UI)
- [ ] 학생 기록에 점수 자동 계산 연동
- [ ] 기록 변화 그래프 (학생 프로필)

### 추가 기능
- [ ] 부상 관리
- [ ] 알림 시스템
- [ ] 통계/분석 대시보드

---

## 명령어

```bash
# 프론트 개발 서버
npm run dev

# 백엔드 재시작
sudo systemctl restart peak

# DB 접속
mysql -u paca -p peak
```
